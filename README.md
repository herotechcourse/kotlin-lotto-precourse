# kotlin-lotto-precourse

## A simple lottery ticket machine built with Kotlin

There are two kinds of lottery 
1. *Visible number lottery* — you know your ticket numbers at purchase time. The winning numbers are anounced later
2. *Hidden number lottery* - The winning numebrs are announced in advance and the numbers on the lottery are hidden before purchase. Once a user purchases a lottery, they can scratch the ticket to reveal the numbers and if it contains the winning numbers and bonus number, they will be awarded the respective rank prize.

After analysing the required input and output expected, I realised that this is the second kind of lotto.
* The winning numbers are announced in advance(previous week).
* The numbers on the ticket are hidden at purchase.(generated by lotto machine)
* After purchasing, users feed the winning numbers.
* If the ticket matches the winning numbers (and possibly the bonus number), the user receives a prize based on the match.

### Features:

- [ ] Input the purchase amount 
- [ ] Issue as many lottery tickets as budget allows. (1 ticket = 1000 KRW)
- [ ] Assign each ticket 6 unique random numbers from 1 - 45
- [ ] Display Number of tickets issued and their numbers (sorted ascending order)
- [ ] Input winning numbers (6 comma-separated values between 1 - 45)
- [ ] Input bonus number (1 number between 1- 45)
- [ ] Compare user's ticket to winning numbers
- [ ] print the result - winning and profit rate - in ascendong order

Determining winning rank:
* 1st Prize: Match 6 numbers / 2,000,000,000 KRW
* 2nd Prize: Match 5 numbers + bonus number / 30,000,000 KRW
* 3rd Prize: Match 5 numbers / 1,500,000 KRW
* 4th Prize: Match 4 numbers / 50,000 KRW
* 5th Prize: Match 3 numbers / 5,000 KRW

### Input Validation:

1. Handles only specific type of exception: IllegalArgumentException and IllegalStateException (error message must start with [ERROR])
2. If invalid input is detected re-prompt the user from that step.


- [ ] For all the invlid input throw IllegalArgumentExecption
	* - [ ] Validte purchase amount
		* Not a multiple of 1000
		* Negative number
		* Not a number
	* - [ ] Validate winning numbers
		* Number not within range of 1 - 45
		* Not a number
		* Duplicate numebrs
		* Incorrect number of numbers(must be exactly 6) 
	* - [ ] Validate bonus number
		* Bonus number not within the range of 1 - 45
		* Bonus number non-numeric
		* Duplicate of a winning number.
- [ ] Re-prompt input from that step

### Programing Requirement
* Functions under 10 lines
* avoid using else
* *Indent depth must not exceed 2*
* Use Enum class if applicable
* USe InputView and OutputView (isolate UI-related code from core functionality)
* Lotto class *should not* be changed only functionality can be added

```Kotlin
package lotto

class Lotto(private val numbers: List<Int>) {
    init {
        require(numbers.size == 6) { "[ERROR] Lotto must contain exactly 6 numbers." }
    }

    // TODO: Implement additional functions
}
```

### Design Plan:
**Class Structure:**
* Application.kt → main() method (entry point).
* InputView → Handles all user inputs.
* OutputView → Handles all console outputs.
* Lotto → Represents a single lottery ticket (already provided).
* LottoMachine → Generates tickets.
* WinningLotto → Holds winning numbers + bonus number, and provides matching logic.
* ResultAnalyzer → Compares user tickets to winning numbers and counts the matches.
* PrizeRank → Enum class to define match conditions and prize money.

### Unit Tests
- [ ] Validate purchase amount (positive, multiple of 1,000).
- [ ] Validate winning numbers (exactly 6, no duplicates, within range).
- [ ] Validate bonus number (within range, not a duplicate).
- [ ] Test maching logic between ticket and winning numbers.
- [ ] Test correct prize calculation
- [ ] Test error messages thrown correctly for invalid inputs.

### Commit Strategy (AngularJS Commit Convention):
*Type*: feat, fix, test, docs, refactor, style, chore
Examples:
* feat: Add LottoMachine to generate random tickets
* fix: Validate winning numbers for duplicate check
* test: Add unit test for matching logic
* docs: Update README with test plan
* refactor: Separate ticket matching logic into ResultAnalyzer
* style: Fix indentation and line length 